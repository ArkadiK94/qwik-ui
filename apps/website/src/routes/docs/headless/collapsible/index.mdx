import { statusByComponent } from '~/_state/component-statuses';
import { FeatureList } from '~/components/feature-list/feature-list';
import { Note } from '~/components/note/note';
import { AnatomyTable } from '~/components/anatomy-table/anatomy-table';

<StatusBanner status={statusByComponent.headless.Collapsible} />

# Collapsible

An interactive component which expands/collapses a panel.

<Showcase name="hero" />

## âœ¨ Features

<FeatureList
  features={[
    'Accessible as a button that shows content, following web a11y standards.',
    'Full keyboard navigation',
    'Controlled or uncontrolled',
    'Initial open state does not wake up the component',
    'Automatic animation detection',
    'Executes on interaction or programmatically',
  ]}
/>

## Building blocks

<CodeSnippet name="building-blocks" />

### ðŸŽ¨ Anatomy

<AnatomyTable
  propDescriptors={[
    {
      name: 'Collapsible',
      description: 'The root container for the Collapsible component.',
    },
    {
      name: 'CollapsibleTrigger',
      description: 'A button that opens the Collapsible content when interacted with.',
    },
    {
      name: 'CollapsibleContent',
      description: 'Contains the content associated with a Collapsible.',
    },
  ]}
/>

## Why use a headless collapsible?

One of the most common questions: _"why not use the native `details` and `summary` HTML elements?"_.

As much as we love the native elements, they come with a couple of problems:

### Native element pain points

<FeatureList
  issues={[
    'Inconsistent accessibility and browser support',
    'Inconsistent screen reader support',
    'Hierarchy and DOM structure restrictions',
    'Lack of full programmatic control',
  ]}
/>

> To read more about the reasons for implementing an ARIA disclosure widget, check out [Scott O'Hara's article](https://www.scottohara.me/blog/2022/09/12/details-summary.html), as well as the [interactive elements](https://html.spec.whatwg.org/multipage/interactive-elements.html#interactive-elements) section of the HTML spec.

## Animating the content

<Showcase name="animation" />

### Why does padding or border break the animation?

Padding or border applied to `CollapsibleContent` breaks height animations. This is because the content height has changed.

To fix this, add a child element to the content, and set the padding or border on that element.

> Rather than dealing with this under the hood, we thought it'd be appropriate to keep style management as simple as possible. Let us know if you have a better solution!

## Component State

### Uncontrolled / Initial value

<Showcase name="open" />

### Controlled / Reactive value

<Showcase name="programmatic" />

### Handling open / close

<Showcase name="open-change" />
